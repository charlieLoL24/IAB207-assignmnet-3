{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block content %}
    <!-- Main Content -->
    <div class="container">
        <div class="row g-4">
            <!-- Event Details Card -->
            <div class="col-md-8">
                <div class="card p-4">
                    <h1 class="event-header">{{ event.Title }}</h1>
                    <img href="{{ event.Image }}" class="img-fluid rounded mb-3" alt="Event Image">
                    <p class="mb-3">{{ event.Description }}</p>
                    <p><strong>Artist:</strong>{{ event_artist }}</p>
                    <p><strong>Date & Time:</strong>{{ event.Start_date }}: {{ event.Start_time }}</p>
                    <p><strong>Location:</strong>{{ event.Venue }}</p>
                    <p><strong>Tickets Available:</strong>{{ event.Tickets_avaliable }}</p>
                </div>
            </div>  
            <!-- Booking Section -->
            <div class="col-md-4">
                <div class="card p-4">
                    <h1 class="event-header">Book Your Tickets</h1>
                    <label for="ticket-quantity" class="form-label">Ticket Quantity:</label>
                    <input type="number" class="form-control mb-3" value="1" id="ticket-quantity">
                    <a class="btn btn-primary w-100">Book Now</a>
                </div>
            </div>  
            <!-- Comments Section -->
            <div class="col-12 pb-5">
                <div class="card p-4">
                    <h1 class="event-header">Comments</h1>
                    <div class="mb-3">
                        <div class="col-md-6 form-group">
                            {{wtf.quick_form(form)}}
                        </div>
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                              {% for message in messages %}
                                  <div class="alert alert-danger">
                                  {{ message }}
                                </div>
                              {% endfor %}
                            {% endif %}
                        {% endwith %}
                    </div>
                    <hr>
                    <div class="comments-section">
                        {% for comment in comments %}
                            {% include "./partials/comment.html" %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}