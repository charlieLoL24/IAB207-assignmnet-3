{% extends "base.html" %}

{% block content %}
    <!-- Main Content -->
    <div class="container">
        <div class="row g-4">
            <!-- Event Details Card -->
            <div class="col-md-8">
                <div class="card p-4">
                    <h1 class="event-header">{{ event.Title }}</h1>
                    <img href="{{ event.Image }}" class="img-fluid rounded mb-3" alt="Event Image">
                    <p class="mb-3">{{ event.Description }}</p>
                    <p><strong>Artist:</strong>{{ event_artist }}</p>
                    <p><strong>Date & Time:</strong>{{ event.Start_date }}: {{ event.Start_time }}</p>
                    <p><strong>Location:</strong>{{ event.Venue }}</p>
                    <p><strong>Tickets Available:</strong>{{ event.Tickets_avaliable }}</p>
                </div>
            </div>  
            <!-- Booking Section -->
            <div class="col-md-4">
                <div class="card p-4">
                    <h1 class="event-header">Book Your Tickets</h1>
                    <label for="ticket-quantity" class="form-label">Ticket Quantity:</label>
                    <input type="number" class="form-control mb-3" value="1" id="ticket-quantity">
                    <a class="btn btn-primary w-100">Book Now</a>
                </div>
            </div>  
            <!-- Comments Section -->
            <div class="col-12">
                <div class="card p-4">
                    <h1 class="event-header">Comments</h1>
                    <div class="mb-3">
                        <input type="text" class="form-control" placeholder="Write your comment here...">
                        <a class="btn btn-primary mt-2 w-100">Post Comment</a>
                    </div>
                    <hr>
                    <div class="comments-section">
                        {% for comment in comments %}
                            {% include "./partials/comment.html" %}
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>  

    <script>
        document.getElementById("ticket-type").addEventListener("change", function () {
            const availabilityInfo = {
                "front-row": "5 tickets left",
                "main-floor": "12 tickets left",
                "mezzanine": "20 tickets left",
                "general": "Unlimited",
                "rear": "8 tickets left"
            };
            const selectedType = this.value;
            document.getElementById("availability").textContent = availabilityInfo[selectedType] || "Select a ticket type";
        });
    </script>

{% endblock %}